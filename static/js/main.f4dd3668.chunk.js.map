{"version":3,"sources":["components/Item.js","components/Shop.js","components/CartItem.js","components/Cart.js","components/Nav.js","shoppingcart.png","components/Home.js","App.js","index.js"],"names":["Item","props","className","id","src","data","image","alt","title","price","onClick","addToCart","Shop","useState","datas","setDatas","isLoading","setisLoading","useEffect","a","fetch","response","json","transferDatas","getDatas","then","items","map","style","textAlign","position","top","width","height","display","alignItems","CartItem","item","quantity","decreaseQuantity","increaseQuantity","Cart","setItems","total","setTotal","cart","reduce","accumulator","element","domItems","toFixed","navLinkStyle","color","textDecoration","margin","padding","Header","to","Nav","itemsNum","Home","app","document","querySelector","classList","add","remove","backgroundImage","shoppingcart","App","setCart","setItemsNum","e","itemId","Number","target","parentNode","getAttribute","find","item_","dataset","filter","exact","path","render","component","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f4dd3668.chunk.js","sourcesContent":["import \"../styles/Item.css\";\nconst Item = (props) => {\n  return (\n    <div className=\"items\" id={props.id}>\n      <div className=\"imgContainer\">\n        <img src={props.data.image} alt=\"\" />\n      </div>\n      <p>{props.data.title}</p>\n      <span>${props.data.price}</span>\n      <br></br>\n      <button onClick={props.addToCart}>Add To Cart</button>\n    </div>\n  );\n};\n\nexport default Item;\n","import { useState, useEffect } from \"react\";\nimport Item from \"../components/Item\";\nimport \"../styles/Shop.css\";\n\nfunction Shop(props) {\n  const [datas, setDatas] = useState([]);\n  const [isLoading, setisLoading] = useState(false);\n\n  useEffect(() => {\n    async function getDatas() {\n      let response = await fetch(\"https://fakestoreapi.com/products\");\n      let json = await response.json();\n      return json;\n    }\n    setisLoading(true);\n    let transferDatas = props.transferDatas;\n    getDatas().then((json) => {\n      setDatas([...json]);\n      setisLoading(false);\n      transferDatas(json);\n    });\n  }, []);\n\n  const items = datas.map((data) => {\n    return (\n      <Item\n        id={data.id}\n        key={data.id}\n        data={data}\n        addToCart={props.addToCart}\n      />\n    );\n  });\n\n  if (isLoading) {\n    return (\n      <div\n        style={{\n          textAlign: \"center\",\n          position: \"absolute\",\n          top: \"0\",\n          width: \"100%\",\n          height: \"100vh\",\n          display: \"flex\",\n          alignItems: \"center\",\n        }}\n      >\n        <div className=\"loader\"></div>\n      </div>\n    );\n  }\n  return <div className=\"itemsContainer\">{items}</div>;\n}\n\nexport default Shop;\n","import \"../styles/CartItem.css\";\n\nconst CartItem = (props) => {\n  let price = props.item.price * props.item.quantity;\n  return (\n    <div className=\"cartItems\" id={props.id}>\n      <img src={props.item.image} alt=\"\" />\n      <div className=\"details\" data-id={props.id}>\n        <div>{props.item.title}</div>\n        <button onClick={props.decreaseQuantity}>-</button>\n        <span id=\"quantity\">{props.item.quantity}</span>\n        <button onClick={props.increaseQuantity}>+</button>\n        <br></br>\n        <span>$ {price}</span>\n      </div>\n    </div>\n  );\n};\n\nexport default CartItem;\n","import { useEffect, useState } from \"react\";\nimport CartItem from \"./CartItem\";\nimport \"../styles/Cart.css\";\nfunction Cart(props) {\n  const [items, setItems] = useState([]);\n  const [total, setTotal] = useState(0);\n\n  useEffect(() => {\n    let cart = props.cart;\n    setItems([...cart]);\n    setTotal(\n      cart.reduce(function (accumulator, element) {\n        return accumulator + element.quantity * element.price;\n      }, 0)\n    );\n  }, [props.cart]);\n  let domItems = items.map((item) => {\n    return (\n      <CartItem\n        id={item.id}\n        key={item.id}\n        item={item}\n        increaseQuantity={props.increaseQuantity}\n        decreaseQuantity={props.decreaseQuantity}\n      />\n    );\n  });\n  return (\n    <div className=\"cart\">\n      <div className=\"cartContent\">{domItems}</div>\n      <div className=\"total\">\n        <h1>\n          Total:\n          <span> $ {total.toFixed(2)}</span>\n        </h1>\n        <button>Checkout</button>\n      </div>\n    </div>\n  );\n}\n\nexport default Cart;\n","import \"../styles/Nav.css\";\nimport { Link } from \"react-router-dom\";\n\nconst navLinkStyle = {\n  color: \"black\",\n  textDecoration: \"none\",\n  margin: \"0\",\n  padding: \"0\",\n};\n\nfunction Header(props) {\n  return (\n    <header>\n      <div className=\"container\">\n        <Link style={navLinkStyle} to=\"/\">\n          <h1>FakeStore</h1>\n        </Link>\n      </div>\n    </header>\n  );\n}\n\nfunction Nav(props) {\n  return (\n    <div className=\"container sticky\">\n      <nav>\n        <ul>\n          <Link style={navLinkStyle} to=\"/shop\">\n            <li>Shop</li>\n          </Link>\n\n          <Link style={navLinkStyle} to=\"/cart\">\n            <li>\n              <img\n                src=\"https://img.icons8.com/glyph-neue/64/000000/shopping-cart.png\"\n                alt=\"cart\"\n              />\n              {props.itemsNum > 0 && (\n                <span id=\"itemsNum\">{props.itemsNum}</span>\n              )}\n            </li>\n          </Link>\n        </ul>\n      </nav>\n    </div>\n  );\n}\n\nexport { Nav, Header };\n","export default __webpack_public_path__ + \"static/media/shoppingcart.23323ec7.png\";","import \"../styles/Home.css\";\nimport { Link } from \"react-router-dom\";\nimport shoppingcart from \"../shoppingcart.png\";\nimport { useEffect } from \"react\";\n\nconst Home = () => {\n  useEffect(() => {\n    //fix the height of App\n    let app = document.querySelector(\".App\");\n    app.classList.add(\"fixedHeight\");\n    return () => {\n      app.classList.remove(\"fixedHeight\");\n    };\n  }, []);\n  return (\n    <div className=\"home\">\n      <div\n        className=\"homeContent\"\n        style={{\n          backgroundImage: ` url(${shoppingcart})`,\n        }}\n      >\n        <div className=\"homeText\">\n          <span>Best fake online store</span>\n          <br></br>\n          <p>Choose what you want now !!!</p>\n          <Link to=\"/shop\">\n            <button>Start shopping</button>\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n","import \"./App.css\";\nimport Shop from \"./components/Shop\";\nimport Cart from \"./components/Cart\";\nimport { Nav, Header } from \"./components/Nav\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Home from \"./components/Home\";\nimport { useState } from \"react\";\n\nfunction App() {\n  const [cart, setCart] = useState([]);\n  const [itemsNum, setItemsNum] = useState(0);\n  const [datas, setDatas] = useState([]);\n\n  function transferDatas(datas) {\n    setDatas([...datas]);\n  }\n\n  function addToCart(e) {\n    setItemsNum(itemsNum + 1);\n    let itemId = Number(e.target.parentNode.getAttribute(\"id\"));\n    //check if item has already been selected\n    let item = cart.find((item) => {\n      return item.id === itemId;\n    });\n    if (item)\n      setCart(\n        cart.map((item_) => {\n          if (item_.id === item.id) item_.quantity++;\n          return item_;\n        })\n      );\n    else {\n      let data = datas.find((element) => {\n        return element.id === itemId;\n      });\n      let item = { ...data, quantity: 1 };\n      setCart([...cart, item]);\n    }\n  }\n\n  function decreaseQuantity(e) {\n    setItemsNum(itemsNum - 1);\n    let id = Number(e.target.parentNode.dataset.id);\n    let item = cart.find((item) => {\n      return item.id === id;\n    });\n    if (item.quantity === 1) {\n      setCart(cart.filter((element) => element.id !== id));\n      return;\n    }\n    setCart(\n      cart.map((element) => {\n        if (element.id === item.id) element.quantity--;\n        return element;\n      })\n    );\n  }\n\n  function increaseQuantity(e) {\n    setItemsNum(itemsNum + 1);\n    let id = Number(e.target.parentNode.dataset.id);\n    let item = cart.find((item) => {\n      return item.id === id;\n    });\n    setCart(\n      cart.map((element) => {\n        if (element.id === item.id) element.quantity++;\n        return element;\n      })\n    );\n  }\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <Header />\n        <Nav itemsNum={itemsNum} />\n        <Switch>\n          <Route\n            exact\n            path=\"/shop\"\n            render={(props) => (\n              <Shop\n                {...props}\n                transferDatas={transferDatas}\n                addToCart={addToCart}\n              />\n            )}\n          />\n          <Route\n            exact\n            path=\"/cart\"\n            render={(props) => (\n              <Cart\n                {...props}\n                cart={cart}\n                increaseQuantity={increaseQuantity}\n                decreaseQuantity={decreaseQuantity}\n              />\n            )}\n          />\n          <Route path=\"/\" component={Home} />\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}